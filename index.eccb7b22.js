function e(e=1){return fetch(`https://api.themoviedb.org/3/trending/movie/week?api_key=b252a3be4f66a1920a26a286abc3ccbf&page=${e}`).then((e=>{if(!e.ok)throw new Error(e.statusText);return e.json()}))}function t(e){return e.map((({poster_path:e,release_date:t,original_title:n,vote_average:r})=>`\n      <li>\n        <img src="https://image.tmdb.org/t/p/w300/${e}" alt="${n}" />\n        <h2>${n}</h2>\n        <p>${t}</p>\n        <p>${r}</p>\n      </li>`)).join("")}const n=document.querySelector(".js-move-list"),r=document.querySelector(".js-guard"),o=document.querySelector(".loader"),a=new IntersectionObserver((function(r,a){console.log(r),r.forEach((r=>{r.isIntersecting&&(s+=1,o.hidden=!1,e(s).then((e=>{n.insertAdjacentHTML("beforeend",t(e.results)),e.page>=e.total_pages&&a.unobserve(r.target)})).catch((e=>console.log(e))).finally((()=>o.hidden=!0)))}))}),{root:null,rootMargin:"300px",threshold:0});let s=1;e().then((e=>{n.insertAdjacentHTML("beforeend",t(e.results)),e.page<e.total_pages&&a.observe(r)})).catch((e=>location.href="./error.html"));
//# sourceMappingURL=index.eccb7b22.js.map
