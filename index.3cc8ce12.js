!function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t="https://api.themoviedb.org/3",n="/trending/movie/week",o="b252a3be4f66a1920a26a286abc3ccbf";return fetch("".concat(t).concat(n,"?api_key=").concat(o,"&page=").concat(e)).then((function(e){if(!e.ok)throw new Error(e.statusText);return e.json()}))}function t(e){return e.map((function(e){var t=e.poster_path,n=e.release_date,o=e.original_title,r=e.vote_average;return'\n      <li>\n        <img src="https://image.tmdb.org/t/p/w300/'.concat(t,'" alt="').concat(o,'" />\n        <h2>').concat(o,"</h2>\n        <p>").concat(n,"</p>\n        <p>").concat(r,"</p>\n      </li>")})).join("")}var n=document.querySelector(".js-move-list"),o=document.querySelector(".js-guard"),r=document.querySelector(".loader"),c=new IntersectionObserver((function(o,c){console.log(o),o.forEach((function(o){o.isIntersecting&&(a+=1,r.hidden=!1,e(a).then((function(e){n.insertAdjacentHTML("beforeend",t(e.results)),e.page>=e.total_pages&&c.unobserve(o.target)})).catch((function(e){return console.log(e)})).finally((function(){return r.hidden=!0})))}))}),{root:null,rootMargin:"300px",threshold:0}),a=1;e().then((function(e){n.insertAdjacentHTML("beforeend",t(e.results)),e.page<e.total_pages&&c.observe(o)})).catch((function(e){return location.href="./error.html"}))}();
//# sourceMappingURL=index.3cc8ce12.js.map
