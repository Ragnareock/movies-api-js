function e(e=1){return fetch(`https://api.themoviedb.org/3/trending/movie/week?api_key=b252a3be4f66a1920a26a286abc3ccbf&page=${e}`).then((e=>{if(!e.ok)throw new Error(e.statusText);return e.json()}))}function t(e){return e.map((({poster_path:e,release_date:t,original_title:r,vote_average:n})=>`\n      <li>\n        <img src="https://image.tmdb.org/t/p/w300/${e}" alt="${r}" />\n        <h2>${r}</h2>\n        <p>Release date: ${t}</p>\n        <p>Vote average: ${n}</p>\n      </li>`)).join("")}const r=document.querySelector(".js-move-list"),n=document.querySelector(".js-guard"),o=document.querySelector(".loader"),a=new IntersectionObserver((function(n,a){console.log(n),n.forEach((n=>{n.isIntersecting&&(s+=1,o.hidden=!1,e(s).then((e=>{r.insertAdjacentHTML("beforeend",t(e.results)),e.page>=e.total_pages&&a.unobserve(n.target)})).catch((e=>console.log(e))).finally((()=>o.hidden=!0)))}))}),{root:null,rootMargin:"300px",threshold:0});let s=1;e().then((e=>{r.insertAdjacentHTML("beforeend",t(e.results)),e.page<e.total_pages&&a.observe(n)})).catch((e=>location.href="./error.html"));
//# sourceMappingURL=index.aa46d68f.js.map
